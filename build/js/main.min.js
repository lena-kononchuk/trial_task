function loadHTML(t,i){fetch(i).then(e=>{if(e.ok)return e.text();throw new Error("HTTP error! status: "+e.status)}).then(e=>{document.getElementById(t).innerHTML=e,"form"===t&&initializeFormValidation(),"swiper"===t&&initializeSwiper(),"header"===t&&initializeMobileMenuAndScroll(),"article"===t&&(initializeSumSlider(),initializeMonthsSlider())}).catch(e=>{console.error(`Error loading ${i}:`,e)})}function initializeMobileMenuAndScroll(){let i=document.getElementById("mobileMenu"),n=document.querySelector(".menu-icon");function t(e){var t=document.querySelector(e.target.getAttribute("href"));t&&(e.preventDefault(),i.classList.remove("is-open"),n.classList.remove("open"),t.scrollIntoView({behavior:"smooth",block:"start"}))}document.querySelectorAll('#mobileMenu a[href^="#"]').forEach(e=>{e.addEventListener("click",t)}),n&&n.addEventListener("click",function(){i.classList.toggle("is-open"),n.classList.toggle("open")})}function initializeSwiper(){let e=new Swiper(".swiper__reviews",{loop:!1,slidesPerView:1,spaceBetween:30,centeredSlides:!0,breakpoints:{640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}}}),t=document.getElementById("nextButton"),i=document.getElementById("prevButton");var n=()=>{0===e.slides.length?(t.classList.add("disabled"),i.classList.add("disabled")):(i.classList.toggle("disabled",e.isBeginning),t.classList.toggle("disabled",e.isEnd||e.activeIndex===e.slides.length-2))};t&&i&&(t.addEventListener("click",()=>e.slideNext()),i.addEventListener("click",()=>e.slidePrev()),e.on("slideChange",n),n())}var copy=document.querySelector(".logo_items").cloneNode(!0);document.querySelector(".logos").appendChild(copy),loadHTML("header","section/header.html"),loadHTML("form","section/form.html"),loadHTML("article","section/article.html"),loadHTML("swiper","section/swiper.html"),loadHTML("footer","section/footer.html");class IntlTelInputElement extends HTMLElement{constructor(){super(),this.inputElement=document.createElement("input"),this.inputElement.type="tel",this.inputElement.setAttribute("minlength","5"),this.inputElement.classList.add("iti__tel-input"),this.appendChild(this.inputElement),this.intlTelInputInstance=null}connectedCallback(){this.intlTelInputInstance=intlTelInput(this.inputElement,{autoHideDialCode:!1,autoPlaceholder:"ON",formatOnDisplay:!0,nationalMode:!0,preferredCountries:["uk","ie","gb","in"],initialCountry:"auto",geoIpLookup:t=>{fetch("https://ipinfo.io?token=4fbab07461a9f4").then(e=>e.json()).then(e=>{e=e&&e.country?e.country:"ie";t(e)}).catch(()=>{t("ie")})},separateDialCode:!0,placeholderNumberType:"MOBILE",dropdownContainer:document.querySelector(".dropdown"),utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@24.5.0/build/js/utils.js"}),this.setupDropdownPositioning()}setupDropdownPositioning(){this.inputElement.addEventListener("open:dropdown",()=>{this.repositionDropdown()}),window.addEventListener("resize",()=>this.repositionDropdown()),window.addEventListener("scroll",()=>this.repositionDropdown())}repositionDropdown(){var e=document.querySelector(".iti__dropdown"),t=document.querySelector(".dropdown");e&&t&&(t=t.getBoundingClientRect(),e.offsetHeight,e.style.top=t.bottom+window.scrollY+"px",e.style.left=t.left+window.scrollX+"px",e.style.width=t.width+"px",e.style.position="absolute")}get value(){return this.inputElement.value}checkValidity(){this.intlTelInputInstance.isValidNumber()?(this.inputElement.classList.remove("invalid"),this.inputElement.classList.add("valid")):(this.inputElement.classList.add("invalid"),this.inputElement.classList.remove("valid"))}isAllowedKey(e){var t="0"<=e.key&&e.key<="9";return["Backspace","Tab","ArrowLeft","ArrowRight","Delete"].includes(e.key)||t}}function initializeFormValidation(){let i=document.getElementById("error-message");i.classList.remove("visible"),document.querySelectorAll("input").forEach(t=>{t.classList.remove("valid","invalid"),t.closest(".form__group").classList.add("empty"),t.addEventListener("focus",()=>{t.closest(".form__group").classList.remove("empty"),i.classList.remove("visible")}),t.addEventListener("input",()=>{var e;""!==t.value.trim()?(t.closest(".form__group").classList.remove("empty"),t.classList.contains("iti__tel-input")?(e=t).checkValidity()?(e.classList.remove("invalid"),e.classList.add("valid"),i.classList.remove("visible")):(e.classList.remove("valid"),e.classList.add("invalid"),i.innerText="Please fill out all fields correctly.",i.classList.add("visible")):t.checkValidity()?(t.classList.remove("invalid"),t.classList.add("valid"),i.classList.remove("visible")):(t.classList.remove("valid"),t.classList.add("invalid"),i.innerText="Please fill out all fields correctly.",i.classList.add("visible"))):(t.closest(".form__group").classList.add("empty"),t.classList.remove("valid","invalid"),i.classList.remove("visible"))})})}customElements.define("intl-tel-input",IntlTelInputElement);let minSum=300,maxSum=15e3,marksSum=[3975,7650,11325,15e3],minMonths=1,maxMonths=12,marksMonths=[1,3,6,9,12],sum=2e3,months=minMonths;function convertToPercent(e,t,i){return(e-t)/(i-t)*100}function addMarks(e,t,i,n,s=!1){let o="";var l;for(let e=0;e<t.length;e++)l=convertToPercent(t[e],i,n),o+='<span class="mark" style="left: '+l+'%">'+t[e]+(s?" months":" €")+"</span>";e.append(o)}function initializeSumSlider(){let t=$("#range-sum");t.ionRangeSlider({type:"double",grid:!0,min:minSum,max:maxSum,to:2e3,postfix:" €",onStart:function(e){sum=e.to,addMarks(t,marksSum,minSum,maxSum),updateProfit()},onChange:function(e){sum=e.to,updateProfit()}})}function initializeMonthsSlider(){let t=$("#range-months");t.ionRangeSlider({type:"single",grid:!0,min:minMonths,max:maxMonths,from:minMonths,step:1,postfix:" month",onStart:function(e){months=e.from,addMarks(t,marksMonths,minMonths,maxMonths,!0),updateProfit()},onChange:function(e){months=e.from,updateProfit()}})}function calculateProfit(e,t){return 4.3*e*t}function updateProfit(){var e=Math.round(calculateProfit(sum,months));$(".profit-text").text("MOGUĆA DOBIT:"),$(".profit-amount").text("€ "+e)}$(function(){initializeSumSlider(),initializeMonthsSlider()});
//# sourceMappingURL=main.min.js.map
